{% extends "form_div_layout.html.twig" %}

{# Images #}
{% block file_widget %}{%- spaceless -%}
    {% if image_url is not null %}
        <img src="{{ image_url|imagine_filter(image_filter) }}" class="img-responsive display_inline_block margin_right_15" />
    {% endif %}
    {#<input type="text" readonly class="form-control floating-label" placeholder="Télécharger..." />#}
    {{ block('form_widget') }}
{%- endspaceless -%}{% endblock %}

{% block form_row %}{% spaceless %}
    {% if group_class|default(null) %}        
        <!-- Widget {{ id }} -->
        <div class="{{- group_class -}}">
    {% endif %}
        {{ form_label(form) }}
        {{ form_errors(form) }}
        {{ form_widget(form) }}
    {% if group_class|default(null) %}
        </div>
        <!-- ./Widget {{ id }} -->
    {% endif %}
{% endspaceless %}{% endblock form_row %}

{# Textarea #}
{% block textarea_widget -%}{%- spaceless -%}
    {% set attr = attr|merge({'class' : (attr.class|default('') ~ ' ' ~ base_class|default('') ~ ' ' ~ widget_class|default(''))|trim }) %}
    {{- parent() -}}
{%- endspaceless -%}{%- endblock textarea_widget %}

{% block form_widget_simple %}
{% spaceless %}
    {% set type = type|default('text') %}
    {% if type != 'file' and type != 'hidden' %}
        {% set attr = attr|merge({'class' : (attr.class|default('') ~ ' ' ~ base_class|default('') ~ ' ' ~ widget_class|default(''))|trim }) %}
    {% endif %}
    
    {{- parent() -}}
{% endspaceless %}
{% endblock form_widget_simple %}
    
{% block button_row %}
{% spaceless %}
    <span>
        {{ form_widget(form) }}
    </span>
{% endspaceless %}
{% endblock button_row %}

{% block form_errors %}
{% spaceless %}
    {% for error in errors %}
        <div class="alert alert-danger">
            <i class="fa fa-warning" ></i> {{ error.message }}
        </div>
    {% endfor %}
{% endspaceless %}
{% endblock form_errors %}

{# Gestion des collections #}
{% block collection_widget %}{%- spaceless -%}        
    {% set attr = attr|merge({'class' : (attr.class|default('') ~ ' ' ~ base_class|default('') ~ ' ' ~ widget_class|default(''))|trim }) %}
    {{ parent() }}
{%- endspaceless -%}{% endblock collection_widget %}
